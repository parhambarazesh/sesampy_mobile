<CommandScreenView>
    MDBottomNavigation:
        #panel_color: "#eeeaea"
        selected_color_background: "orange"
        text_color_active: "lightgrey"

        MDBottomNavigationItem:
            name: 'commands'
            icon: 'apple-keyboard-command'
            MDBoxLayout:
                id: box
                orientation: 'vertical'
                MDLabel:
                    id: command
                    text: 'Commands'
                    halign: 'center'
                    font_style: 'H6'
                    size_hint_y: None
                    height: self.texture_size[1]
                    theme_text_color: 'Custom'
                    text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                ScrollView:
                    id: scroll
                    MDList:
                        id: command_list
                        spacing: '8dp'
                        padding: '8dp'
                        OneLineAvatarIconListItem:
                            id: authenticate
                            text: 'Sesam Authenticate'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.authenticate_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_authenticate
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False
                        OneLineAvatarIconListItem:
                            id: download
                            text: 'Sesam Download'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.download_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_download
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False

                        OneLineAvatarIconListItem:
                            id: upload
                            text: 'Sesam Upload'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.upload_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_upload
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False
                        OneLineAvatarIconListItem:
                            id: status
                            text: 'Sesam Status'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.status_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_status
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False
                        OneLineAvatarIconListItem:
                            id: verify
                            text: 'Sesam Verify'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.verify_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_verify
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False
                        OneLineAvatarIconListItem:
                            id: test
                            text: 'Sesam Test'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.test_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_test
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False
                        OneLineAvatarIconListItem:
                            id: stop
                            text: 'Sesam Stop'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.stop_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_stop
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False
                        OneLineAvatarIconListItem:
                            id: run
                            text: 'Sesam Run'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.run_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_run
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False
                        OneLineAvatarIconListItem:
                            id: wipe
                            text: 'Sesam Wipe'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.wipe_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_wipe
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False
                        OneLineAvatarIconListItem:
                            id: restart
                            text: 'Sesam Restart'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.restart_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_restart
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False
                        OneLineAvatarIconListItem:
                            id: reset
                            text: 'Sesam Reset'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.reset_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_reset
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False
                        OneLineAvatarIconListItem:
                            id: convert
                            text: 'Sesam Convert'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.convert_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_convert
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False
                        OneLineAvatarIconListItem:
                            id: dump
                            text: 'Sesam Dump'
                            theme_text_color: 'Custom'
                            text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            on_release: root.dump_thread()
                            IconLeftWidget:
                                icon: 'apple-keyboard-command'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            IconRightWidget:
                                theme_text_color: 'Custom'
                                text_color: (18/255,18/255,18/255,1) if self.theme_cls.theme_style == "Dark" else (250/255,250/255,250/255,1)
                                MDSpinner:
                                    id: spinner_dump
                                    size_hint: None, None
                                    size: dp(20), dp(20)
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    active: False
        MDBottomNavigationItem:
            id: logs
            name: 'logs'
            icon: 'file-document-alert-outline'
            on_tab_press: root.get_logs()
            ScrollView:
                id: scroll_log
                MDTextField:
                    id: log
                    multiline: True
                    readonly: True
                    size_hint_y: None
                    height: self.minimum_height
                    text_color_normal: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
            MDLabel:
                id: output
                halign: 'center'
                mode:"rectangle"
#        MDLabel:
#            id: output
#            halign: 'center'
#            mode:"rectangle"
    MDScreenManager:
        MDScreen:
            MDNavigationDrawer:
                id: nav_drawer
                BoxLayout:
                    orientation: 'vertical'
                    spacing: '8dp'
                    padding: '8dp'
                    Image:
                        source: 'assets/images/sesam_logo.png'
                        size_hint: (1, None)
                        height: Window.height * 0.3
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    ScrollView:
                        MDList:
                            OneLineIconListItem:
                                text: 'Commands'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                                on_release:
                                    nav_drawer.set_state('close')
                                    app.switch_window('command_screen')
                                IconLeftWidget:
                                    icon: 'apple-keyboard-command'
                                    theme_text_color: 'Custom'
                                    text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            OneLineIconListItem:
                                text: 'Connectors'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                                on_release:
                                    nav_drawer.set_state('close')
                                    app.switch_window('connector_screen')
                                IconLeftWidget:
                                    icon: 'connection'
                                    theme_text_color: 'Custom'
                                    text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            OneLineIconListItem:
                                text: 'Configs'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                                on_release:
                                    nav_drawer.set_state('close')
                                    app.switch_window('config_screen')
                                IconLeftWidget:
                                    icon: 'cogs'
                                    theme_text_color: 'Custom'
                                    text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                            OneLineIconListItem:
                                text: 'Exit'
                                theme_text_color: 'Custom'
                                text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)
                                on_release: app.stop()
                                IconLeftWidget:
                                    icon: 'exit-to-app'
                                    theme_text_color: 'Custom'
                                    text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)

                    MDLabel:
                        text: 'v.1.0.0'
                        font_style: 'Caption'
                        size_hint_y: None
                        height: self.texture_size[1]
                        halign: 'center'
                        theme_text_color: 'Custom'
                        text_color: (250/255,250/255,250/255,1) if self.theme_cls.theme_style == "Dark" else (18/255,18/255,18/255,1)